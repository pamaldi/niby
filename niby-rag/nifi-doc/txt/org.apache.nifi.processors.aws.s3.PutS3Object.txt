PutS3Object - Apache NiFi

• Documentation • NiFi Version 2 Documentation • NiFi Version 1 Documentation • Guides • Security Reporting • Wiki • Development • Contributing • Issues • Source • Community • Contact • Powered By • Team • Projects • MiNiFi • Registry • Flow Design System • Apache • Events • License • Privacy • Sponsorship • Thanks • General • Overview • Getting Started • User Guide • Expression Language Guide • RecordPath Guide • Admin Guide • Toolkit Guide • Walkthroughs • Developer • Developer Guide • Python Developer Guide • Apache NiFi In Depth • REST API • Processors • AttributeRollingWindow • AttributesToCSV • AttributesToJSON • CalculateRecordStats • CaptureChangeMySQL • CompressContent • ConnectWebSocket • ConsumeAMQP • ConsumeAzureEventHub • ConsumeBoxEnterpriseEvents • ConsumeBoxEvents • ConsumeElasticsearch • ConsumeGCPubSub • ConsumeIMAP • ConsumeJMS • ConsumeKafka • ConsumeKinesisStream • ConsumeMQTT • ConsumePOP3 • ConsumeSlack • ConsumeTwitter • ConsumeWindowsEventLog • ControlRate • ConvertCharacterSet • ConvertRecord • CopyAzureBlobStorage_v12 • CopyS3Object • CountText • CreateBoxFileMetadataInstance • CreateBoxMetadataTemplate • CryptographicHashContent • DebugFlow • DecryptContentAge • DecryptContentPGP • DeduplicateRecord • DeleteAzureBlobStorage_v12 • DeleteAzureDataLakeStorage • DeleteBoxFileMetadataInstance • DeleteByQueryElasticsearch • DeleteDynamoDB • DeleteFile • DeleteGCSObject • DeleteGridFS • DeleteMongo • DeleteS3Object • DeleteSFTP • DeleteSQS • DetectDuplicate • DistributeLoad • DuplicateFlowFile • EncodeContent • EncryptContentAge • EncryptContentPGP • EnforceOrder • EvaluateJsonPath • EvaluateXPath • EvaluateXQuery • ExecuteGroovyScript • ExecuteProcess • ExecuteScript • ExecuteSQL • ExecuteSQLRecord • ExecuteStreamCommand • ExtractAvroMetadata • ExtractEmailAttachments • ExtractEmailHeaders • ExtractGrok • ExtractHL7Attributes • ExtractRecordSchema • ExtractStructuredBoxFileMetadata • ExtractText • FetchAzureBlobStorage_v12 • FetchAzureDataLakeStorage • FetchBoxFile • FetchBoxFileInfo • FetchBoxFileMetadataInstance • FetchBoxFileRepresentation • FetchDistributedMapCache • FetchDropbox • FetchFile • FetchFTP • FetchGCSObject • FetchGoogleDrive • FetchGridFS • FetchS3Object • FetchSFTP • FetchSmb • FilterAttribute • FlattenJson • ForkEnrichment • ForkRecord • GenerateFlowFile • GenerateRecord • GenerateTableFetch • GeoEnrichIP • GeoEnrichIPRecord • GeohashRecord • GetAsanaObject • GetAwsPollyJobStatus • GetAwsTextractJobStatus • GetAwsTranscribeJobStatus • GetAwsTranslateJobStatus • GetAzureEventHub • GetAzureQueueStorage_v12 • GetBoxFileCollaborators • GetBoxGroupMembers • GetDynamoDB • GetElasticsearch • GetFile • GetFileResource • GetFTP • GetGcpVisionAnnotateFilesOperationStatus • GetGcpVisionAnnotateImagesOperationStatus • GetHubSpot • GetMongo • GetMongoRecord • GetS3ObjectMetadata • GetS3ObjectTags • GetSFTP • GetShopify • GetSmbFile • GetSNMP • GetSplunk • GetSQS • GetWorkdayReport • GetZendesk • HandleHttpRequest • HandleHttpResponse • IdentifyMimeType • InvokeHTTP • InvokeScriptedProcessor • ISPEnrichIP • JoinEnrichment • JoltTransformJSON • JoltTransformRecord • JSLTTransformJSON • JsonQueryElasticsearch • ListAzureBlobStorage_v12 • ListAzureDataLakeStorage • ListBoxFile • ListBoxFileInfo • ListBoxFileMetadataInstances • ListBoxFileMetadataTemplates • ListDatabaseTables • ListDropbox • ListenFTP • ListenHTTP • ListenOTLP • ListenSlack • ListenSyslog • ListenTCP • ListenTrapSNMP • ListenUDP • ListenUDPRecord • ListenWebSocket • ListFile • ListFTP • ListGCSBucket • ListGoogleDrive • ListS3 • ListSFTP • ListSmb • LogAttribute • LogMessage • LookupAttribute • LookupRecord • MergeContent • MergeRecord • ModifyBytes • ModifyCompression • MonitorActivity • MoveAzureDataLakeStorage • Notify • PackageFlowFile • PaginatedJsonQueryElasticsearch • ParseEvtx • ParseNetflowv5 • ParseSyslog • ParseSyslog5424 • PartitionRecord • PublishAMQP • PublishGCPubSub • PublishJMS • PublishKafka • PublishMQTT • PublishSlack • PutAzureBlobStorage_v12 • PutAzureCosmosDBRecord • PutAzureDataExplorer • PutAzureDataLakeStorage • PutAzureEventHub • PutAzureQueueStorage_v12 • PutBigQuery • PutBoxFile • PutCloudWatchMetric • PutDatabaseRecord • PutDistributedMapCache • PutDropbox • PutDynamoDB • PutDynamoDBRecord • PutElasticsearchJson • PutElasticsearchRecord • PutEmail • PutFile • PutFTP • PutGCSObject • PutGoogleDrive • PutGridFS • PutKinesisFirehose • PutKinesisStream • PutLambda • PutMongo • PutMongoBulkOperations • PutMongoRecord • PutRecord • PutRedisHashRecord • PutS3Object • PutSalesforceObject • PutSFTP • PutSmbFile • PutSNS • PutSplunk • PutSplunkHTTP • PutSQL • PutSQS • PutSyslog • PutTCP • PutUDP • PutWebSocket • PutZendeskTicket • QueryAirtableTable • QueryAzureDataExplorer • QueryDatabaseTable • QueryDatabaseTableRecord • QueryRecord • QuerySalesforceObject • QuerySplunkIndexingStatus • RemoveRecordField • RenameRecordField • ReplaceText • ReplaceTextWithMapping • RetryFlowFile • RouteHL7 • RouteOnAttribute • RouteOnContent • RouteText • RunMongoAggregation • SampleRecord • ScanAttribute • ScanContent • ScriptedFilterRecord • ScriptedPartitionRecord • ScriptedTransformRecord • ScriptedValidateRecord • SearchElasticsearch • SegmentContent • SendTrapSNMP • SetSNMP • SignContentPGP • SplitAvro • SplitContent • SplitExcel • SplitJson • SplitPCAP • SplitRecord • SplitText • SplitXml • StartAwsPollyJob • StartAwsTextractJob • StartAwsTranscribeJob • StartAwsTranslateJob • StartGcpVisionAnnotateFilesOperation • StartGcpVisionAnnotateImagesOperation • TagS3Object • TailFile • TransformXml • UnpackContent • UpdateAttribute • UpdateBoxFileMetadataInstance • UpdateByQueryElasticsearch • UpdateCounter • UpdateDatabaseTable • UpdateRecord • ValidateCsv • ValidateJson • ValidateRecord • ValidateXml • VerifyContentMAC • VerifyContentPGP • Wait • Controller Services • ADLSCredentialsControllerService • ADLSCredentialsControllerServiceLookup • AmazonGlueEncodedSchemaReferenceReader • AmazonGlueSchemaRegistry • AmazonMSKConnectionService • ApicurioSchemaRegistry • AvroReader • AvroRecordSetWriter • AvroSchemaRegistry • AWSCredentialsProviderControllerService • AzureBlobStorageFileResourceService • AzureCosmosDBClientService • AzureDataLakeStorageFileResourceService • AzureEventHubRecordSink • AzureStorageCredentialsControllerService_v12 • AzureStorageCredentialsControllerServiceLookup_v12 • CEFReader • ConfluentEncodedSchemaReferenceReader • ConfluentEncodedSchemaReferenceWriter • ConfluentSchemaRegistry • CSVReader • CSVRecordLookupService • CSVRecordSetWriter • DatabaseRecordLookupService • DatabaseRecordSink • DatabaseTableSchemaRegistry • DBCPConnectionPool • DBCPConnectionPoolLookup • DeveloperBoxClientService • DistributedMapCacheLookupService • ElasticSearchClientServiceImpl • ElasticSearchLookupService • ElasticSearchStringLookupService • EmailRecordSink • EmbeddedHazelcastCacheManager • ExcelReader • ExternalHazelcastCacheManager • FreeFormTextRecordSetWriter • GCPCredentialsControllerService • GCSFileResourceService • GrokReader • HazelcastMapCacheClient • HikariCPConnectionPool • HttpRecordSink • IPLookupService • JettyWebSocketClient • JettyWebSocketServer • JMSConnectionFactoryProvider • JndiJmsConnectionFactoryProvider • JsonConfigBasedBoxClientService • JsonPathReader • JsonRecordSetWriter • JsonTreeReader • JWTBearerOAuth2AccessTokenProvider • Kafka3ConnectionService • KerberosKeytabUserService • KerberosPasswordUserService • KerberosTicketCacheUserService • LoggingRecordSink • MapCacheClientService • MapCacheServer • MongoDBControllerService • MongoDBLookupService • PEMEncodedSSLContextProvider • PropertiesFileLookupService • ProtobufReader • ReaderLookup • RecordSetWriterLookup • RecordSinkServiceLookup • RedisConnectionPoolService • RedisDistributedMapCacheClientService • RestLookupService • S3FileResourceService • ScriptedLookupService • ScriptedReader • ScriptedRecordSetWriter • ScriptedRecordSink • SetCacheClientService • SetCacheServer • SimpleCsvFileLookupService • SimpleDatabaseLookupService • SimpleKeyValueLookupService • SimpleRedisDistributedMapCacheClientService • SimpleScriptedLookupService • SiteToSiteReportingRecordSink • SlackRecordSink • SmbjClientProviderService • StandardAsanaClientProviderService • StandardAzureCredentialsControllerService • StandardDatabaseDialectService • StandardDropboxCredentialService • StandardFileResourceService • StandardHashiCorpVaultClientService • StandardHttpContextMap • StandardJsonSchemaRegistry • StandardKustoIngestService • StandardKustoQueryService • StandardOauth2AccessTokenProvider • StandardPGPPrivateKeyService • StandardPGPPublicKeyService • StandardPrivateKeyService • StandardProxyConfigurationService • StandardRestrictedSSLContextService • StandardS3EncryptionService • StandardSSLContextService • StandardWebClientServiceProvider • Syslog5424Reader • SyslogReader • UDPEventRecordSink • VolatileSchemaCache • WindowsEventLogReader • XMLFileLookupService • XMLReader • XMLRecordSetWriter • YamlTreeReader • ZendeskRecordSink • Reporting Tasks • AzureLogAnalyticsProvenanceReportingTask • AzureLogAnalyticsReportingTask • ControllerStatusReportingTask • MonitorDiskUsage • MonitorMemory • ScriptedReportingTask • SiteToSiteBulletinReportingTask • SiteToSiteMetricsReportingTask • SiteToSiteProvenanceReportingTask • SiteToSiteStatusReportingTask • Parameter Providers • AwsSecretsManagerParameterProvider • AzureKeyVaultSecretsParameterProvider • DatabaseParameterProvider • EnvironmentVariableParameterProvider • GcpSecretManagerParameterProvider • HashiCorpVaultParameterProvider • KubernetesSecretParameterProvider • OnePasswordParameterProvider • Flow Analysis Rules • DisallowComponentType • RequireServerSSLContextService • RestrictBackpressureSettings • RestrictFlowFileExpiration PutS3Object 2.5.0

 Bundle org.apache.nifi | nifi-aws-nar Description Writes the contents of a FlowFile as an S3 Object to an Amazon S3 Bucket. Tags AWS, Amazon, Archive, Put, S3 Input Requirement REQUIRED Supports Sensitive Dynamic Properties false • Additional Details for PutS3Object 2.5.0 PutS3Object

 Multi-part Upload Details

 The upload uses either the PutS3Object method or the PutS3MultipartUpload method. The PutS3Object method sends the file in a single synchronous call, but it has a 5GB size limit. Larger files are sent using the PutS3MultipartUpload method. This multipart process saves state after each step so that a large upload can be resumed with minimal loss if the processor or cluster is stopped and restarted. A multipart upload consists of three steps:

 • Initiate upload • Upload the parts • Complete the upload For multipart uploads, the processor saves state locally tracking the upload ID and parts uploaded, which must both be provided to complete the upload. The AWS libraries select an endpoint URL based on the AWS region, but this can be overridden with the ‘Endpoint Override URL’ property for use with other S3-compatible endpoints. The S3 API specifies that the maximum file size for a PutS3Object upload is 5GB. It also requires that parts in a multipart upload must be at least 5MB in size, except for the last part. These limits establish the bounds for the Multipart Upload Threshold and Part Size properties.

 Configuration Details

 Object Key

 The Object Key property value should not start with “/”.

 Credentials File

 The Credentials File property allows the user to specify the path to a file containing the AWS access key and secret key. The contents of the file should be in the following format:

 [default]
 accessKey=<access key>
 secretKey=<security key>
 Make sure the credentials file is readable by the NiFi service user.

 When using the Credential File property, ensure that there are no values for the Access Key and Secret Key properties. The Value column should read “No value set” for both. Note: Do not check “Set empty string” for either as the empty string is considered a set value.

 Properties • AWS Credentials Provider Service The Controller Service that is used to obtain AWS credentials provider Display Name AWS Credentials Provider Service Description The Controller Service that is used to obtain AWS credentials provider API Name AWS Credentials Provider service Service Interface org.apache.nifi.processors.aws.credentials.provider.service.AWSCredentialsProviderService Service Implementations org.apache.nifi.processors.aws.credentials.provider.service.AWSCredentialsProviderControllerService Expression Language Scope Not Supported Sensitive false Required true • Bucket The S3 Bucket to interact with Display Name Bucket Description The S3 Bucket to interact with API Name Bucket Default Value ${s3.bucket} Expression Language Scope Environment variables and FlowFile Attributes Sensitive false Required true • Cache Control Sets the Cache-Control HTTP header indicating the caching directives of the associated object. Multiple directives are comma-separated. Display Name Cache Control Description Sets the Cache-Control HTTP header indicating the caching directives of the associated object. Multiple directives are comma-separated. API Name Cache Control Expression Language Scope Environment variables and FlowFile Attributes Sensitive false Required false • Canned ACL Amazon Canned ACL for an object, one of: BucketOwnerFullControl, BucketOwnerRead, LogDeliveryWrite, AuthenticatedRead, PublicReadWrite, PublicRead, Private; will be ignored if any other ACL/permission/owner property is specified Display Name Canned ACL Description Amazon Canned ACL for an object, one of: BucketOwnerFullControl, BucketOwnerRead, LogDeliveryWrite, AuthenticatedRead, PublicReadWrite, PublicRead, Private; will be ignored if any other ACL/permission/owner property is specified API Name canned-acl Default Value ${s3.permissions.cannedacl} Expression Language Scope Environment variables and FlowFile Attributes Sensitive false Required false • Communications Timeout The amount of time to wait in order to establish a connection to AWS or receive data from AWS before timing out. Display Name Communications Timeout Description The amount of time to wait in order to establish a connection to AWS or receive data from AWS before timing out. API Name Communications Timeout Default Value 30 secs Expression Language Scope Not Supported Sensitive false Required true • Content Disposition Sets the Content-Disposition HTTP header indicating if the content is intended to be displayed inline or should be downloaded. Possible values are 'inline' or 'attachment'. If this property is not specified, object's content-disposition will be set to filename. When 'attachment' is selected, '; filename=' plus object key are automatically appended to form final value 'attachment; filename="filename.jpg"'. Display Name Content Disposition Description Sets the Content-Disposition HTTP header indicating if the content is intended to be displayed inline or should be downloaded. Possible values are 'inline' or 'attachment'. If this property is not specified, object's content-disposition will be set to filename. When 'attachment' is selected, '; filename=' plus object key are automatically appended to form final value 'attachment; filename="filename.jpg"'. API Name Content Disposition Allowable Values • inline • attachment Expression Language Scope Not Supported Sensitive false Required false • Content Type Sets the Content-Type HTTP header indicating the type of content stored in the associated object. The value of this header is a standard MIME type. AWS S3 Java client will attempt to determine the correct content type if one hasn't been set yet. Users are responsible for ensuring a suitable content type is set when uploading streams. If no content type is provided and cannot be determined by the filename, the default content type "application/octet-stream" will be used. Display Name Content Type Description Sets the Content-Type HTTP header indicating the type of content stored in the associated object. The value of this header is a standard MIME type. AWS S3 Java client will attempt to determine the correct content type if one hasn't been set yet. Users are responsible for ensuring a suitable content type is set when uploading streams. If no content type is provided and cannot be determined by the filename, the default content type "application/octet-stream" will be used. API Name Content Type Expression Language Scope Environment variables and FlowFile Attributes Sensitive false Required false • Custom Signer Class Name Fully qualified class name of the custom signer class. The signer must implement com.amazonaws.auth.Signer interface. Display Name Custom Signer Class Name Description Fully qualified class name of the custom signer class. The signer must implement com.amazonaws.auth.Signer interface. API Name custom-signer-class-name Expression Language Scope Environment variables defined at JVM level and system properties Sensitive false Required true Dependencies • Signer Override is set to any of [CustomSignerType] • Custom Signer Module Location Comma-separated list of paths to files and/or directories which contain the custom signer's JAR file and its dependencies (if any). Display Name Custom Signer Module Location Description Comma-separated list of paths to files and/or directories which contain the custom signer's JAR file and its dependencies (if any). API Name custom-signer-module-location Expression Language Scope Environment variables defined at JVM level and system properties Sensitive false Required false Dependencies • Signer Override is set to any of [CustomSignerType] • Encryption Service Specifies the Encryption Service Controller used to configure requests. PutS3Object: For backward compatibility, this value is ignored when 'Server Side Encryption' is set. FetchS3Object: Only needs to be configured in case of Server-side Customer Key, Client-side KMS and Client-side Customer Key encryptions. Display Name Encryption Service Description Specifies the Encryption Service Controller used to configure requests. PutS3Object: For backward compatibility, this value is ignored when 'Server Side Encryption' is set. FetchS3Object: Only needs to be configured in case of Server-side Customer Key, Client-side KMS and Client-side Customer Key encryptions. API Name encryption-service Service Interface org.apache.nifi.processors.aws.s3.AmazonS3EncryptionService Service Implementations org.apache.nifi.processors.aws.s3.encryption.StandardS3EncryptionService Expression Language Scope Not Supported Sensitive false Required false • Endpoint Override URL Endpoint URL to use instead of the AWS default including scheme, host, port, and path. The AWS libraries select an endpoint URL based on the AWS region, but this property overrides the selected endpoint URL, allowing use with other S3-compatible endpoints. Display Name Endpoint Override URL Description Endpoint URL to use instead of the AWS default including scheme, host, port, and path. The AWS libraries select an endpoint URL based on the AWS region, but this property overrides the selected endpoint URL, allowing use with other S3-compatible endpoints. API Name Endpoint Override URL Expression Language Scope Environment variables defined at JVM level and system properties Sensitive false Required false • Expiration Time Rule Display Name Expiration Time Rule Description API Name Expiration Time Rule Expression Language Scope Environment variables and FlowFile Attributes Sensitive false Required false • File Resource Service File Resource Service providing access to the local resource to be transferred Display Name File Resource Service Description File Resource Service providing access to the local resource to be transferred API Name File Resource Service Service Interface org.apache.nifi.fileresource.service.api.FileResourceService Service Implementations org.apache.nifi.services.azure.storage.AzureBlobStorageFileResourceService org.apache.nifi.services.azure.storage.AzureDataLakeStorageFileResourceService org.apache.nifi.processors.gcp.storage.GCSFileResourceService org.apache.nifi.processors.aws.s3.service.S3FileResourceService org.apache.nifi.fileresource.service.StandardFileResourceService Expression Language Scope Not Supported Sensitive false Required true Dependencies • Resource Transfer Source is set to any of [FILE_RESOURCE_SERVICE] • FullControl User List A comma-separated list of Amazon User ID's or E-mail addresses that specifies who should have Full Control for an object Display Name FullControl User List Description A comma-separated list of Amazon User ID's or E-mail addresses that specifies who should have Full Control for an object API Name FullControl User List Default Value ${s3.permissions.full.users} Expression Language Scope Environment variables and FlowFile Attributes Sensitive false Required false • Multipart Part Size Specifies the part size for use when the PutS3Multipart Upload API is used. Flow files will be broken into chunks of this size for the upload process, but the last part sent can be smaller since it is not padded. The valid range is 50MB to 5GB. Display Name Multipart Part Size Description Specifies the part size for use when the PutS3Multipart Upload API is used. Flow files will be broken into chunks of this size for the upload process, but the last part sent can be smaller since it is not padded. The valid range is 50MB to 5GB. API Name Multipart Part Size Default Value 5 GB Expression Language Scope Not Supported Sensitive false Required true • Multipart Threshold Specifies the file size threshold for switch from the PutS3Object API to the PutS3MultipartUpload API. Flow files bigger than this limit will be sent using the stateful multipart process. The valid range is 50MB to 5GB. Display Name Multipart Threshold Description Specifies the file size threshold for switch from the PutS3Object API to the PutS3MultipartUpload API. Flow files bigger than this limit will be sent using the stateful multipart process. The valid range is 50MB to 5GB. API Name Multipart Threshold Default Value 5 GB Expression Language Scope Not Supported Sensitive false Required true • Multipart Upload AgeOff Interval Specifies the interval at which existing multipart uploads in AWS S3 will be evaluated for ageoff. When processor is triggered it will initiate the ageoff evaluation if this interval has been exceeded. Display Name Multipart Upload AgeOff Interval Description Specifies the interval at which existing multipart uploads in AWS S3 will be evaluated for ageoff. When processor is triggered it will initiate the ageoff evaluation if this interval has been exceeded. API Name Multipart Upload AgeOff Interval Default Value 60 min Expression Language Scope Not Supported Sensitive false Required true • Multipart Upload Max Age Threshold Specifies the maximum age for existing multipart uploads in AWS S3. When the ageoff process occurs, any upload older than this threshold will be aborted. Display Name Multipart Upload Max Age Threshold Description Specifies the maximum age for existing multipart uploads in AWS S3. When the ageoff process occurs, any upload older than this threshold will be aborted. API Name Multipart Upload Max Age Threshold Default Value 7 days Expression Language Scope Not Supported Sensitive false Required true • Object Key The S3 Object Key to use. This is analogous to a filename for traditional file systems. Display Name Object Key Description The S3 Object Key to use. This is analogous to a filename for traditional file systems. API Name Object Key Default Value ${filename} Expression Language Scope Environment variables and FlowFile Attributes Sensitive false Required true • Owner The Amazon ID to use for the object's owner Display Name Owner Description The Amazon ID to use for the object's owner API Name Owner Default Value ${s3.owner} Expression Language Scope Environment variables and FlowFile Attributes Sensitive false Required false • Proxy Configuration Service Specifies the Proxy Configuration Controller Service to proxy network requests. Display Name Proxy Configuration Service Description Specifies the Proxy Configuration Controller Service to proxy network requests. API Name proxy-configuration-service Service Interface org.apache.nifi.proxy.ProxyConfigurationService Service Implementations org.apache.nifi.proxy.StandardProxyConfigurationService Expression Language Scope Not Supported Sensitive false Required false • Read ACL User List A comma-separated list of Amazon User ID's or E-mail addresses that specifies who should have permissions to read the Access Control List for an object Display Name Read ACL User List Description A comma-separated list of Amazon User ID's or E-mail addresses that specifies who should have permissions to read the Access Control List for an object API Name Read ACL User List Default Value ${s3.permissions.readacl.users} Expression Language Scope Environment variables and FlowFile Attributes Sensitive false Required false • Read Permission User List A comma-separated list of Amazon User ID's or E-mail addresses that specifies who should have Read Access for an object Display Name Read Permission User List Description A comma-separated list of Amazon User ID's or E-mail addresses that specifies who should have Read Access for an object API Name Read Permission User List Default Value ${s3.permissions.read.users} Expression Language Scope Environment variables and FlowFile Attributes Sensitive false Required false • Region The AWS Region to connect to. Display Name Region Description The AWS Region to connect to. API Name Region Default Value us-west-2 Allowable Values • AWS GovCloud (US) • AWS GovCloud (US-East) • US East (N. Virginia) • US East (Ohio) • US West (N. California) • US West (Oregon) • EU (Ireland) • EU (London) • EU (Paris) • EU (Frankfurt) • EU (Zurich) • EU (Stockholm) • EU (Milan) • EU (Spain) • Asia Pacific (Hong Kong) • Asia Pacific (Taipei) • Asia Pacific (Mumbai) • Asia Pacific (Hyderabad) • Asia Pacific (Singapore) • Asia Pacific (Sydney) • Asia Pacific (Jakarta) • Asia Pacific (Melbourne) • Asia Pacific (Malaysia) • Asia Pacific (Thailand) • Asia Pacific (Tokyo) • Asia Pacific (Seoul) • Asia Pacific (Osaka) • South America (Sao Paulo) • China (Beijing) • China (Ningxia) • Canada (Central) • Canada West (Calgary) • Middle East (UAE) • Middle East (Bahrain) • Africa (Cape Town) • US ISO East • US ISOB East (Ohio) • US ISO West • US ISOF East1 (California) • US ISOF South1 (Alpine) • Israel (Tel Aviv) • Mexico (Central) • Use 's3.region' Attribute Expression Language Scope Not Supported Sensitive false Required true • Resource Transfer Source The source of the content to be transferred Display Name Resource Transfer Source Description The source of the content to be transferred API Name Resource Transfer Source Default Value FLOWFILE_CONTENT Allowable Values • FlowFile Content • File Resource Service Expression Language Scope Not Supported Sensitive false Required true • Remove Tag Prefix If set to 'True', the value provided for 'Object Tags Prefix' will be removed from the attribute(s) and then considered as the Tag name. For ex: If the incoming FlowFile carries the attributes tagS3country, tagS3PII and the prefix is set to 'tagS3' then the corresponding tag values would be 'country' and 'PII' Display Name Remove Tag Prefix Description If set to 'True', the value provided for 'Object Tags Prefix' will be removed from the attribute(s) and then considered as the Tag name. For ex: If the incoming FlowFile carries the attributes tagS3country, tagS3PII and the prefix is set to 'tagS3' then the corresponding tag values would be 'country' and 'PII' API Name s3-object-remove-tags-prefix Default Value false Allowable Values • True • False Expression Language Scope Not Supported Sensitive false Required false • Object Tags Prefix Specifies the prefix which would be scanned against the incoming FlowFile's attributes and the matching attribute's name and value would be considered as the outgoing S3 object's Tag name and Tag value respectively. For Ex: If the incoming FlowFile carries the attributes tagS3country, tagS3PII, the tag prefix to be specified would be 'tagS3' Display Name Object Tags Prefix Description Specifies the prefix which would be scanned against the incoming FlowFile's attributes and the matching attribute's name and value would be considered as the outgoing S3 object's Tag name and Tag value respectively. For Ex: If the incoming FlowFile carries the attributes tagS3country, tagS3PII, the tag prefix to be specified would be 'tagS3' API Name s3-object-tags-prefix Expression Language Scope Environment variables and FlowFile Attributes Sensitive false Required false • Temporary Directory Multipart State Directory in which, for multipart uploads, the processor will locally save the state tracking the upload ID and parts uploaded which must both be provided to complete the upload. Display Name Temporary Directory Multipart State Description Directory in which, for multipart uploads, the processor will locally save the state tracking the upload ID and parts uploaded which must both be provided to complete the upload. API Name s3-temporary-directory-multipart Default Value ${java.io.tmpdir} Expression Language Scope Environment variables defined at JVM level and system properties Sensitive false Required true • Server Side Encryption Specifies the algorithm used for server side encryption. Display Name Server Side Encryption Description Specifies the algorithm used for server side encryption. API Name server-side-encryption Default Value None Allowable Values • None • AES256 Expression Language Scope Not Supported Sensitive false Required true • Signer Override The AWS S3 library uses Signature Version 4 by default but this property allows you to specify the Version 2 signer to support older S3-compatible services or even to plug in your own custom signer implementation. Display Name Signer Override Description The AWS S3 library uses Signature Version 4 by default but this property allows you to specify the Version 2 signer to support older S3-compatible services or even to plug in your own custom signer implementation. API Name Signer Override Default Value Default Signature Allowable Values • Default Signature • Signature Version 4 • Signature Version 2 • Custom Signature Expression Language Scope Not Supported Sensitive false Required false • SSL Context Service Specifies an optional SSL Context Service that, if provided, will be used to create connections Display Name SSL Context Service Description Specifies an optional SSL Context Service that, if provided, will be used to create connections API Name SSL Context Service Service Interface org.apache.nifi.ssl.SSLContextProvider Service Implementations org.apache.nifi.ssl.PEMEncodedSSLContextProvider org.apache.nifi.ssl.StandardRestrictedSSLContextService org.apache.nifi.ssl.StandardSSLContextService Expression Language Scope Not Supported Sensitive false Required false • Storage Class Display Name Storage Class Description API Name Storage Class Default Value Standard Allowable Values • DeepArchive • Glacier • GlacierInstantRetrieval • IntelligentTiering • OneZoneInfrequentAccess • Outposts • ReducedRedundancy • Snow • Standard • StandardInfrequentAccess Expression Language Scope Not Supported Sensitive false Required true • Use Chunked Encoding Enables / disables chunked encoding for upload requests. Set it to false only if your endpoint does not support chunked uploading. Display Name Use Chunked Encoding Description Enables / disables chunked encoding for upload requests. Set it to false only if your endpoint does not support chunked uploading. API Name use-chunked-encoding Default Value true Allowable Values • true • false Expression Language Scope Not Supported Sensitive false Required false • Use Path Style Access Path-style access can be enforced by setting this property to true. Set it to true if your endpoint does not support virtual-hosted-style requests, only path-style requests. Display Name Use Path Style Access Description Path-style access can be enforced by setting this property to true. Set it to true if your endpoint does not support virtual-hosted-style requests, only path-style requests. API Name use-path-style-access Default Value false Allowable Values • true • false Expression Language Scope Not Supported Sensitive false Required false • Write ACL User List A comma-separated list of Amazon User ID's or E-mail addresses that specifies who should have permissions to change the Access Control List for an object Display Name Write ACL User List Description A comma-separated list of Amazon User ID's or E-mail addresses that specifies who should have permissions to change the Access Control List for an object API Name Write ACL User List Default Value ${s3.permissions.writeacl.users} Expression Language Scope Environment variables and FlowFile Attributes Sensitive false Required false • Write Permission User List A comma-separated list of Amazon User ID's or E-mail addresses that specifies who should have Write Access for an object Display Name Write Permission User List Description A comma-separated list of Amazon User ID's or E-mail addresses that specifies who should have Write Access for an object API Name Write Permission User List Default Value ${s3.permissions.write.users} Expression Language Scope Environment variables and FlowFile Attributes Sensitive false Required false Dynamic Properties • The name of a User-Defined Metadata field to add to the S3 Object Allows user-defined metadata to be added to the S3 object as key/value pairs Name The name of a User-Defined Metadata field to add to the S3 Object Description Allows user-defined metadata to be added to the S3 object as key/value pairs Value The value of a User-Defined Metadata field to add to the S3 Object Expression Language Scope FLOWFILE_ATTRIBUTES Relationships Name | Description | 
 failure | If the Processor is unable to process a given FlowFile, it will be routed to this Relationship. | 
 success | FlowFiles are routed to this Relationship after they have been successfully processed. | 
 Reads Attributes Name | Description | 
 filename | Uses the FlowFile's filename as the filename for the S3 object | 
 Writes Attributes Name | Description | 
 s3.url | The URL that can be used to access the S3 object | 
 s3.bucket | The S3 bucket where the Object was put in S3 | 
 s3.key | The S3 key within where the Object was put in S3 | 
 s3.contenttype | The S3 content type of the S3 Object that put in S3 | 
 s3.version | The version of the S3 Object that was put to S3 | 
 s3.exception | The class name of the exception thrown during processor execution | 
 s3.additionalDetails | The S3 supplied detail from the failed operation | 
 s3.statusCode | The HTTP error code (if available) from the failed operation | 
 s3.errorCode | The S3 moniker of the failed operation | 
 s3.errorMessage | The S3 exception message from the failed operation | 
 s3.etag | The ETag of the S3 Object | 
 s3.contentdisposition | The content disposition of the S3 Object that put in S3 | 
 s3.cachecontrol | The cache-control header of the S3 Object | 
 s3.uploadId | The uploadId used to upload the Object to S3 | 
 s3.expiration | A human-readable form of the expiration date of the S3 object, if one is set | 
 s3.sseAlgorithm | The server side encryption algorithm of the object | 
 s3.usermetadata | A human-readable form of the User Metadata of the S3 object, if any was set | 
 s3.encryptionStrategy | The name of the encryption strategy, if any was set | 
 See Also • org.apache.nifi.processors.aws.s3.CopyS3Object • org.apache.nifi.processors.aws.s3.DeleteS3Object • org.apache.nifi.processors.aws.s3.FetchS3Object • org.apache.nifi.processors.aws.s3.GetS3ObjectMetadata • org.apache.nifi.processors.aws.s3.GetS3ObjectTags • org.apache.nifi.processors.aws.s3.ListS3 • org.apache.nifi.processors.aws.s3.TagS3Object